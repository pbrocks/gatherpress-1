(()=>{"use strict";const e=window.wp.element,t=window.lodash,n=window.wp.components,o=window.wp.i18n,a=window.wp.coreData,s=window.wp.data,r=r=>{var l,i;const{name:p,option:d,value:m,fieldOptions:u}=r.attrs,c=1!==u.limit,[g,w]=(0,e.useState)(null!==(l=JSON.parse(m))&&void 0!==l?l:"[]"),{contentList:y}=(0,s.useSelect)((e=>{const{getEntityRecords:t}=e(a.store);return{contentList:t("user"!==u.type?"postType":"root",u.type||"post",{per_page:-1,context:"view"})}}),[u.type]),_=null!==(i=y?.reduce(((e,t)=>({...e,[t.title?.rendered||t.name]:t})),{}))&&void 0!==i?i:{};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.FormTokenField,{key:d,label:u.label||(0,o.__)("Select Posts","gatherpress"),name:p,value:g&&g.map((e=>({id:e.id,slug:e.slug,value:e.title?.rendered||e.name||e.value}))),suggestions:Object.keys(_),onChange:e=>{if(e.some((e=>"string"==typeof e&&!_[e])))return;const n=e.map((e=>"string"==typeof e?_[e]:e));if((0,t.includes)(n,null))return!1;w(n)},maxSuggestions:u.max_suggestions||20,maxLength:u.limit||0,__experimentalShowHowTo:c}),!1===c&&(0,e.createElement)("p",{className:"description"},(0,o.__)("Choose only one item.","gatherpress")),(0,e.createElement)("input",{type:"hidden",id:d,name:p,value:g&&JSON.stringify(g.map((e=>({id:e.id,slug:e.slug,value:e.title?.rendered||e.name||e.value}))))}))},l=document.querySelectorAll('[data-gp_component_name="autocomplete"]');for(let t=0;t<l.length;t++){const n=JSON.parse(l[t].dataset.gp_component_attrs);(0,e.createRoot)(l[t]).render((0,e.createElement)(r,{attrs:n}))}})();