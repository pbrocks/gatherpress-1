(()=>{"use strict";const e=window.React,t=window.wp.element,n=window.lodash,a=window.wp.components,o=window.wp.i18n,r=window.wp.coreData,s=window.wp.data,l=l=>{var i,c;const{name:d,option:m,value:p,fieldOptions:u}=l.attrs,g=1!==u.limit,[w,_]=(0,t.useState)(null!==(i=JSON.parse(p))&&void 0!==i?i:"[]"),{contentList:v}=(0,s.useSelect)((e=>{const{getEntityRecords:t}=e(r.store);return{contentList:t("user"!==u.type?"postType":"root",u.type||"post",{per_page:-1,context:"view"})}}),[u.type]),y=null!==(c=v?.reduce(((e,t)=>({...e,[t.title?.rendered||t.name]:t})),{}))&&void 0!==c?c:{};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.FormTokenField,{key:m,label:u.label||(0,o.__)("Select Posts","gatherpress"),name:d,value:w&&w.map((e=>({id:e.id,slug:e.slug,value:e.title?.rendered||e.name||e.value}))),suggestions:Object.keys(y),onChange:e=>{if(e.some((e=>"string"==typeof e&&!y[e])))return;const t=e.map((e=>"string"==typeof e?y[e]:e));if((0,n.includes)(t,null))return!1;_(t)},maxSuggestions:u.max_suggestions||20,maxLength:u.limit||0,__experimentalShowHowTo:g}),!1===g&&(0,e.createElement)("p",{className:"description"},(0,o.__)("Choose only one item.","gatherpress")),(0,e.createElement)("input",{type:"hidden",id:m,name:d,value:w&&JSON.stringify(w.map((e=>({id:e.id,slug:e.slug,value:e.title?.rendered||e.name||e.value}))))}))},i=window.wp.date,c=n=>{const{name:a,value:o}=n.attrs,[r,s]=(0,t.useState)(o);return document.querySelector(`[name="${a}"]`).addEventListener("input",(e=>{s(e.target.value)}),{once:!0}),(0,e.createElement)(e.Fragment,null,r&&(0,i.format)(r))},d=document.querySelectorAll('[data-gp_component_name="autocomplete"]');for(let n=0;n<d.length;n++){const a=JSON.parse(d[n].dataset.gp_component_attrs);(0,t.createRoot)(d[n]).render((0,e.createElement)(l,{attrs:a}))}const m=document.querySelectorAll('[data-gp_component_name="datetime-preview"]');for(let n=0;n<m.length;n++){const a=JSON.parse(m[n].dataset.gp_component_attrs);(0,t.createRoot)(m[n]).render((0,e.createElement)(c,{attrs:a}))}})();